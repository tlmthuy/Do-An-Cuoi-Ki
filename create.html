<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Poll - GoodFood</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" type="text/css" href="https://npmcdn.com/flatpickr/dist/themes/material_blue.css">
    
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="brand"><div class="logo-circle">G</div><span>GOODFOOD</span></div>
            <nav class="menu">
                <div class="menu-label">MENU</div>
                <a href="#" class="menu-item active">
                    <span class="icon">üìä</span> Dashboard
                </a>
                <div class="menu-label mt-20">OTHERS</div>
                <a href="#" class="menu-item"><span class="icon">‚öôÔ∏è</span> Settings</a>
                <a href="#" class="menu-item"><span class="icon">üë§</span> Accounts</a>
            </nav>
        </aside>

        <main class="main-content">
            <header class="top-bar">
                <h2 class="page-title">Group meeting</h2>
                <div class="user-profile"><div class="avatar">üçî</div><span>Minh Thuy ‚åÑ</span></div>
            </header>

            <div class="content-body" style="max-width: 800px;">
                <div class="header-text">
                    <h1>Create poll</h1>
                    <p class="subtitle">Set up a poll so your team can later select common free time.</p>
                </div>

                <div class="card">
                    <div class="section-header">
                        <h3>Poll details</h3>
                        <p>Name your poll and define basic information.</p>
                    </div>

                    <form id="create-poll-form" onsubmit="handleCreatePoll(event)">
                        <div class="form-group">
                            <label>Poll name</label>
                            <input type="text" class="form-control" placeholder="e.g. Weekly check-in with team" required>
                        </div>

                        <div class="form-group">
                            <label>Timezone</label>
                            <select class="form-control">
                                <option>GMT+7 ‚Äî Ho Chi Minh</option>
                                <option>GMT+0 ‚Äî London</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Description</label>
                            <textarea class="form-control" rows="3" placeholder="Optional. Add agenda or notes for your teammates."></textarea>
                        </div>

                        <hr class="divider">

                        <div class="section-header">
                            <h3>Meeting preferences</h3>
                            <p>Choose when you'd like the meeting to happen.</p>
                        </div>

                        <div class="form-row">
                            <div class="form-group half">
                                <label>Date range</label>
                                <input type="text" id="date-range-picker" class="form-control" placeholder="Select date range...">
                            </div>
                            <div class="form-group half">
                                <label>Duration</label>
                                <select class="form-control">
                                    <option>30 minutes</option>
                                    <option>60 minutes</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-footer">
                            <button type="button" class="btn-text">Cancel</button>
                            <button type="submit" class="btn-primary">Create poll</button>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

   <script>
        // K√≠ch ho·∫°t l·ªãch + GI·ªú C·ª§ TH·ªÇ
        flatpickr("#date-range-picker", {
            mode: "range",             // Ch·∫ø ƒë·ªô ch·ªçn kho·∫£ng (T·ª´ ... ƒê·∫øn ...)
            minDate: "today",          // Kh√¥ng ch·ªçn ng√†y qu√° kh·ª©
            enableTime: true,          // <--- QUAN TR·ªåNG: B·∫≠t t√≠nh nƒÉng ch·ªçn gi·ªù
            dateFormat: "Y-m-d H:i",   // ƒê·ªãnh d·∫°ng hi·ªÉn th·ªã: NƒÉm-Th√°ng-Ng√†y Gi·ªù:Ph√∫t
            time_24hr: true,           // D√πng ch·∫ø ƒë·ªô 24h (v√≠ d·ª• 14:00 thay v√¨ 2:00 PM)
            
            // T√πy ch·ªânh text n·ªëi gi·ªØa 2 ng√†y
            locale: {
                rangeSeparator: "  ƒë·∫øn  " 
            },
            onChange: function(selectedDates, dateStr, instance) {
                console.log("Th·ªùi gian ƒë√£ ch·ªçn:", dateStr);
            }
        });

        // H√†m x·ª≠ l√Ω khi b·∫•m n√∫t T·∫°o Poll
        function handleCreatePoll(e) {
            e.preventDefault(); 
            // L·∫•y gi√° tr·ªã t·ª´ √¥ nh·∫≠p l·ªãch
            const dateRange = document.getElementById("date-range-picker").value;
            
            if(!dateRange) {
                alert("Vui l√≤ng ch·ªçn th·ªùi gian!");
                return;
            }

            alert("ƒê√£ t·∫°o Poll th√†nh c√¥ng v·ªõi th·ªùi gian:\n" + dateRange);
            window.location.href = "index.html";
        }
    </script>
</body>
</html>